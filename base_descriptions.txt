For forum known bugs:
- In error.log it will complain that several variables are set but never used. This is because they are not used in the scripting language but are used by the gui to present numbers to the player.
- The error.log will complain that some characters do not have a capital_county. This does not effect the function of the mod.


For forum addition to compatability:
- This mod commandeers the CharacterWindow.ToggleExpandedTraits toggle and the CharacterWindow.AreTraitsExpanded check. The toggle appeared to not be called anywhere, so I decided to use it.

For forum open scripting challenges:
- I could not find a way to directly check if the property always_follows_primary_heir is set or its value. This property forms the basis of this mod, and the setter is exposed, but I could not find a getter.
- I tried to create a scripted list like is shown in the common/scripted_lists/00_scripted_lists.txt for core titles, but it did not work. The every effect was not recognized in scripts, and in my testing the every effect was also not recognized for any of the scripted lists in that file either.
- Gridboxes in the datatype language allocate a grid rectangle to every object in the list at the beginning, and will show holes if items are not visible.
- There do not appear to be on_actions for moving the primary title or changing the realm capital.
- They did such a good job on the UI that it is hard to add more to it without compromising how good it looks or how intuitively it functions.

Summary:
This mod adds in a system to allow characters to retain more titles on succession under the partition succession laws. It achieves this goal by allowing them to designate titles as "core" which will cause them to be inherited by the character's heir. The user can optionally set a core title limit, add a cost to coring or holding core titles, or give core title counties a slight benefit.

How to use the mod:
- Owned titles of county tier or higher will have a designate core or de-designate core button on the title window.
- Core titles can be seen in the character window for any character with cores (this should be any character with a title). To see them click on where it says Core Titles in the middle of the window next to the titles, claims, and diplomacy.
- The in-game encyclopedia has descriptions of the mechanics and concepts introduced.
- There is a decision to de-designate all designated cores
- There is a character interaction to recalculate core titles. It should not have to be used except in some edge cases as described in the current bugs section.
- There is a character interaction to force an AI re-evaluate their core titles.

Some details of how the mod works:
- A character's core titles are the (mostly) complete set of titles which their heir is guaranteed to inherit upon their death. Some titles will be core for every character just based on the base game mechanics while others will be core due to the titles or a title de-jure beneath it being designated as core by the character.
- The only core titles which will count to the core limit or have a cost are the non-titular core leaves (the titles with no de-jure descendant core titles) which were designated as core by the character.
- One cannot designate titles de-jure under at title with title succession laws as core (with limited exceptions for a title succession law on the primary title).

The image for the thumbnail is commander_is_leader.dds. It is located in the game in the folder gfx/interface/icons/

The mod is *not* achievement compatible.
The mod should be safe to add to an existing game, but it might take up to a quarter for it to be fully active.

Known bugs:
- Core titles are not recalculated when the primary title is changed or the realm capital is moved.
- The first overtime core leaf cost can take a day to apply.
- There are two known cases where it is possible to lose core titles:
    1. If a character's primary title has title specific succession with an heir that is not of your dynasty and is unlanded. On inheriting the title they will take the de-jure capital of the title, possibly taking despite it being a core title of that or a different character.
    2. If a character's primary title has title specific succession with an heir that is not of your dynasty. Any core titles designated by the character will go to the heir who inherits their capital, which can be different from their player heir who will be the one to inherit the first title in the title list of the highest remaining tier after the primary title is gone. In the case of partition succession with your children inheriting, your oldest child will be the one to receive the capital, but you will not play as them after dying.
    3. Without a title specific succession law on the primary title if the primary heir is not your dynasty, core titles will not go to the player heir.

Credits:
Mod Creator: SurrealNumber
French Localization: Al3xell

Possible future features:
- Adding a way to remove core titles from a game in order to 

Mod compatibility guesses:
- This mod modifies the title window and character window guis. It will most likely be incompatible with other mods which also modify them, though in the case of the character window its only purpose is to present information to the player, and without it the mod should still be functional, just difficult to tell what is going on.
- This mod adds calls to additional on_actions or in one case an additional effect to on_actions from the base game. This also has the potential to have/cause conflicts.


Paradox Mods short description:
Adds in a system to allow characters to retain more titles on succession under partition. It enables them to designate titles as "core" which will cause them to be inherited by the character's heir.