core_title_text_line = {
    scope = character

    is_shown = {
        has_core_titles = yes
    }
    
    is_valid = { # multiple core titles
        1 < value = {
            value = 0
            every_core_title = {add = 1}
        }
    }
}

core_limit_display = {
    scope = character
    
   
    is_shown = {
        is_over_core_limit = yes
    }
    
    
    effect = {
        # Generate tooltip
        core_limit = {save_temporary_scope_as = _core_limit}
        var:core_count = {save_temporary_scope_as = _core_count}
        custom_tooltip = CORE_LIMIT_TOOLTIP_HEADER
        if = {
            limit = {is_over_core_limit = yes}
            custom_tooltip = CORE_LIMIT_EXCEEDED_TOOLTIP
            amount_over_core_limit = {save_temporary_scope_as = _amount_over_core_limit}
            if = {
                limit = {
                    amount_over_core_limit > 1
                }
                custom_tooltip = CORE_LIMIT_OVER_EFFECTS_HEADING_TOOLTIP
            }
            else = {
                custom_tooltip = CORE_LIMIT_OVER_EFFECTS_SINGULAR_HEADING_TOOLTIP
            }
            value = {
                value = -0.05
                multiply = amount_over_core_limit
            } = {save_temporary_scope_as = _val_over_core_limit_penalty}
            custom_tooltip = CORE_LIMIT_OVERRUN_EFFECT
        }
    }
}

core_capital_chain_character_display = {
    scope = character
    
    is_valid = { # multiple capital chain cores
        1 < value = {
            value = 0
            every_core_title = {
                if = {
                    limit = {is_title_core_due_to_capital}
                    add = 1
                }
            }
        }
    }
}

core_capital_chain_title_display = {
    scope = title
    
    is_shown = {
        is_title_core_due_to_capital
    }
}

core_special_character_display = {
    scope = character
    
    is_shown = {
        any_core_title = {is_title_special_core = yes}
    }
    
    is_valid = { # multiple special cores
        1 < value = {
            value = 0
            every_core_title = {
                if = {
                    limit = {is_title_special_core}
                    add = 1
                }
    }
}

core_special_title_display = {
    scope = title
    
    
    is_shown = {
        is_title_special_core
    }
}

core_mod_character_display = {
    scope = character
    
    is_shown = {
        any_core_title = {is_title_core_due_to_cti = yes}
    }
    
    is_valid = { # multiple special cores
        1 < value = {
            value = 0
            every_core_title = {
                if = {
                    limit = {is_title_core_due_to_cti}
                    add = 1
                }
    }
}

core_mod_title_display = {
    scope = title
    
    
    is_shown = {
        is_title_core_due_to_cti
    }
}