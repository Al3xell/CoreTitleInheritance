core_limit = { # scope is character
    if = {
        limit={ has_game_rule = off_designate_core_limit }
        value = 0
    }
    else_if = {
        limit={ has_game_rule = half_domain_designate_core_limit }
        value = domain_limit
        divide = 2
        ceiling = yes
    }
    else_if = {
        limit={ has_game_rule = domain_designate_core_limit }
        value = domain_limit
    }
    else_if = {
        limit={ has_game_rule = unlimited_designate_core_limit }
        value = 10000
    }
}

coring_title_cost_flat = major_prestige_loss
coring_title_refund_flat = medium_prestige_gain
coring_title_refund_flat_full = major_prestige_gain

over_core_limit = { # scope is character
    if = {
        limit = {NOT = {exists = var:core_count}}
        initialize_core_count
    }
    value = var:core_count
    subtract = core_limit
    min = 0 # sets lower bound of 0
}

over_core_limit_prestige_modifier = {
    value = 0.05
    multiply = over_core_limit
    max = 0.5 # sets upper bound
}

#Not used
#get_core_count = { # scope is a character
#    if = {
#    limit = {NOT = {exists = var:core_count}}
#        initialize_core_count
#    }
#    var:core_count
#}

# Unused, but put here to remind me that if things go poorly I have an alternate core count here.
core_count_from_list = {
    value = 0
    any_core_title_count_to_limit = { add = 1 }
}