designate_core_button = {
    scope = title
    #[And( Character.IsLocalPlayer,
    saved_scopes = {
        viewing_character
    }
    is_shown = {
        NOT = {is_title_core}
        trigger = {
            viewing_character = holder
        }
    }
    
    is_valid = {
        can_core_title
    }
    
    effect = {
        # Generate tooltip
        if = {
            limit = {can_core_title}
            custom_tooltip = TITLE_DESIGNATE_CORE_TOOLTIP
        }
        else if = {
            limit = {NOT = {is_title_eligible_for_core}}
            custom_tooltip = TITLE_DESIGNATE_CORE_TOOLTIP_NO_CHILD
        }
        else if = {
            limit = {is_over_core_limit = {root.holder}}
            custom_tooltip = TITLE_DESIGNATE_CORE_TOOLTIP_OVER_LIMIT
        }
        
        # do the coring
        designate_core_title
    }
}

de_designate_core_button = {
    scope = title
    saved_scopes = {
        viewing_character
    }
    is_shown = {
        is_title_core
        trigger = {
            viewing_character = holder
        }
    }
    
    is_valid = {
        can_de_core_title
    }
    
    effect = {
        # Generate tooltip
        if = {
            limit = {can_de_core_title}
            custom_tooltip = TITLE_DE_DESIGNATE_CORE_TOOLTIP
        }
        else if = {
            limit = {is_title_core_due_to_capital}
            custom_tooltip = TITLE_DE_DESIGNATE_CORE_TOOLTIP_CAPITAL_CHAIN
        }
        else if = {
            limit = {holder.primary_title = root}
            custom_tooltip = TITLE_DE_DESIGNATE_CORE_TOOLTIP_PRIMARY_TITLE
        }
        else if = {
            limit = {will_core_loss_break_titles}
            custom_tooltip = TITLE_DE_DESIGNATE_CORE_TOOLTIP_NO_SIBLING
        }
        else if = {
            limit = {always_follows_primary_heir}
            custom_tooltip = TITLE_DE_DESIGNATE_CORE_TOOLTIP_SPECIAL_TITLE
        }
        
        # do the de_designating core
        de_designate_core_title
    }
}