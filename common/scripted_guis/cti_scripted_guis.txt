designate_core_button = {
    scope = character
    saved_scopes = {
        title_
    }
    is_shown = {
        #AND = {
        #    title_.holder = root # might be redundant
            NOT = {is_title_core = {title_}}
        #}
    }
    
    is_valid = {
        can_core_title = {title_}
    }
    
    effect = {
        # Generate tooltip
        if = {
            limit = {title_.can_core_title}
            custom_tooltip = TITLE_DESIGNATE_CORE_TOOLTIP
        }
        else if = {
            limit = {NOT = {is_title_eligible_for_core = {title_}}}
            custom_tooltip = TITLE_DESIGNATE_CORE_TOOLTIP_NO_CHILD
        }
        else if = {
            limit = {is_over_core_limit = {root}}
            custom_tooltip = TITLE_DESIGNATE_CORE_TOOLTIP_OVER_LIMIT
        }
        
        # do the coring
        designate_core_title = {title_}
    }
}

de_designate_core_button = {
    scope = character
    saved_scopes = {
        title_
    }
    is_shown = {
        #AND = {
        #    title_.holder = root # might be redundant
            is_title_core = {title_}
        #}
    }
    
    is_valid = {
        can_de_core_title = {title}
    }
    
    effect = {
        # Generate tooltip
        if = {
            limit = {can_de_core_title = {title_}}
            custom_tooltip = TITLE_DE_DESIGNATE_CORE_TOOLTIP
        }
        else if = {
            limit = {is_title_core_due_to_capital = {title_}}
            custom_tooltip = TITLE_DE_DESIGNATE_CORE_TOOLTIP_CAPITAL_CHAIN
        }
        else if = {
            limit = {root.primary_title = this}
            custom_tooltip = TITLE_DE_DESIGNATE_CORE_TOOLTIP_PRIMARY_TITLE
        }
        else if = {
            limit = {will_core_loss_break_titles = {title_}}
            custom_tooltip = TITLE_DE_DESIGNATE_CORE_TOOLTIP_NO_SIBLING
        }
        else if = {
            limit = {always_follows_primary_heir = {title_}}
            custom_tooltip = TITLE_DE_DESIGNATE_CORE_TOOLTIP_SPECIAL_TITLE
        }
        
        # do the de_designating core
        de_designate_core_title = {title_}
    }
}